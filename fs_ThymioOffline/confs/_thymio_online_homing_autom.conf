%runs:30
%maxevolutions:4

--controllers classname=controllers.SimulatedThymioOnlineEvoController,
network=(
		classname=commoninterface.evolution.MacroNetwork,
		inputs=(
			IR=(
				classname=commoninterface.evolution.RealThymioNormalizedCIIRNNInputs,
				id=1
			),
			INNEST=(
				classname=commoninterface.evolution.RealThymioInNestNNInputs,
				id=2
			),
			DISTANCENEST=(
				classname=commoninterface.evolution.RealThymioDistanceNestNNInputs,
				id=3
			)
		),
		outputs=(
			TwoWheel=(
				classname=commoninterface.evolution.ThymioTwoWheelCINNOutput,
				id=1
			)
		)
),
task=(taskname=homing,maxenergy=1000.0,defaultfactor=0.00001,minenergy=0.00001),
evaluation=(policy=fixed,evalsteps=250,noevalperiod=50)

--environment classname=environment.ContinuousEvalSimpleArenaWithNestEnvironment,
	width=1,
	height=1,
	steps=36000,
	nestradius=0.05
	
--simulator network=(
		classname=network.SimulationNetwork
	)
--robots classname=robot.Thymio,out=X,
	distancewheels=0.2,
	numberofrobots=1,
	radius=0.08,
	maxspeed=0.20,
	irsenserobot=0,
    camerasensor=0,
    naivesensor=0,
    noiseenabled=0,
    camerasensor=0,
    nestsensor=1,
    stopactuator=0,
    sensors=(
		Sensor1=(
			classname=sensors.CISensorWrapper,
				ci=(
				classname=commoninterface.sensors.ThymioIRCISensor,
				id=1
				)
		),
		Sensor2=(
			classname=sensors.CISensorWrapper,
				ci=(
				classname=commoninterface.sensors.ThymioCIInNestSensor,
				id=2
				)
		),
		Sensor3=(
			classname=sensors.CISensorWrapper,
				ci=(
				classname=commoninterface.sensors.ThymioCIDistanceNestSensor,
				id=3
				)
		)
     )

--executor classname=ParallelTaskExecutor

--evolution classname=evolutionaryrobotics.evolution.NEATEvolution

--random-seed 1

%pop {
	--population classname=evolutionaryrobotics.populations.NEATPopulation,samples=1,generations=1,size=1
}

#evo_alone{
	%pop
	--evaluation classname=evaluationfunctions.ThymioHomingEvaluationFunction
}

#simple_macro_std{
	%pop
	--evaluation classname=evaluationfunctions.ThymioHomingEvaluationFunction
	--controllers +macroneurons=(encoding=macrogenome,macros=0,macrospecialisation=0,evolvedmacros=3,evolved_macro1=move_forward,evsensors1=0-1-2-3-4-5-6,evactuators1=9-10,evolved_macro2=turn_left,evsensors2=0-1-2-3-4-5-6,evactuators2=9-10,evolved_macro3=turn_right,evsensors3=0-1-2-3-4-5-6,evactuators3=9-10)
}

#simple_macro_coevolve{
	%pop
	--evaluation classname=evaluationfunctions.ThymioHomingEvaluationFunction
	--controllers +macroneurons=(encoding=macrogenome,macrospecialisation=1,macros=0,evolvedmacros=3,evolved_macro1=move_forward,evsensors1=0-1-2-3-4-5-6,evactuators1=9-10,evolved_macro2=turn_left,evsensors2=0-1-2-3-4-5-6,evactuators2=9-10,evolved_macro3=turn_right,evsensors3=0-1-2-3-4-5-6,evactuators3=9-10)
}

#behaviour_seed_macro_std{
	%pop
	--evaluation classname=evaluationfunctions.ThymioHomingEvaluationFunction
	--controllers +macroneurons=(encoding=macrogenome,macros=0,macrospecialisation=0,evolvedmacros=1,evolved_macro1=homing_real_samples,evsensors1=0-1-2-3-4-5-6-7-8,evactuators1=9-10)
}

#behaviour_seed_macro_coevolve{
	%pop
	--evaluation classname=evaluationfunctions.ThymioHomingEvaluationFunction
	--controllers +macroneurons=(encoding=macrogenome,macrospecialisation=1,macros=0,evolvedmacros=1,evolved_macro1=homing_real_samples,evsensors1=0-1-2-3-4-5-6-7-8,evactuators1=9-10)
}

#behaviour_seed_only{
	%pop
	--evaluation classname=evaluationfunctions.ThymioHomingEvaluationFunction
        --controllers +weights=(
		0.0,
		1.0,
		-1.8116783800023701,
		2.0,
		0.8104296735671024,
		0.0,
		2.0,
		-0.7720095801020876,
		2.0,
		0.6275368382650587,
		0.0,
		3.0,
		-0.9432478296966325,
		2.0,
		0.7806486082701135,
		0.0,
		4.0,
		-0.28521729894166026,
		2.0,
		0.5551995596016581,
		0.0,
		5.0,
		2.5476079402564134,
		2.0,
		0.2661140607667208,
		0.0,
		6.0,
		-1.6095805255279836,
		2.0,
		-0.12861189185672361,
		0.0,
		7.0,
		3.1646575341873113,
		2.0,
		0.6372104647283022,
		0.0,
		8.0,
		-0.64809611671201,
		2.0,
		1.4694413502041637,
		0.0,
		9.0,
		-1.9761870958128505,
		2.0,
		0.2702657164836868,
		0.0,
		10.0,
		1.3443929261930905,
		1.0,
		1.212012076961821,
		0.0,
		11.0,
		1.4972860201105351,
		1.0,
		0.5722150054343331,
		0.0,
		32.0,
		1.195110577150095,
		0.0,
		0.14074895328397924,
		0.0,
		12.0,
		-1.1401402196586967,
		0.0,
		0.32148976249968003,
		0.0,
		17.0,
		1.2140134064193469,
		0.0,
		0.1087282909532035,
		1.0,
		1.0,
		4.0,
		10.0,
		-0.4691325764812032,
		1.0,
		1.0,
		5.0,
		10.0,
		-2.0010346830372705,
		1.0,
		1.0,
		6.0,
		10.0,
		3.667246484919056,
		1.0,
		1.0,
		7.0,
		10.0,
		3.45410478716862,
		1.0,
		1.0,
		8.0,
		10.0,
		-1.371140243168735,
		1.0,
		1.0,
		9.0,
		10.0,
		1.126233603641817,
		0.0,
		33.0,
		-0.8560829630373243,
		0.0,
		0.9912861919093575,
		0.0,
		29.0,
		1.3583181958091246,
		0.0,
		0.7654171671413001,
		0.0,
		14.0,
		-2.1607490595403878,
		0.0,
		-1.3009060297578503,
		1.0,
		1.0,
		4.0,
		11.0,
		-1.4029131877150727,
		0.0,
		15.0,
		-1.1453013004118509,
		0.0,
		-0.8538144170678607,
		0.0,
		23.0,
		1.0632131389569772,
		0.0,
		-0.5991548113339262,
		0.0,
		25.0,
		0.5949676098132806,
		0.0,
		0.13104015999630725,
		1.0,
		1.0,
		8.0,
		11.0,
		-1.2808215704444401,
		0.0,
		20.0,
		0.8908369139597573,
		0.0,
		-0.49077142561639175,
		1.0,
		1.0,
		3.0,
		14.0,
		4.292660817925219,
		1.0,
		1.0,
		14.0,
		11.0,
		-1.7160797320236527,
		1.0,
		1.0,
		5.0,
		15.0,
		2.069390106200121,
		0.0,
		39.0,
		0.751128565169548,
		0.0,
		-0.5678444066784051,
		1.0,
		1.0,
		2.0,
		12.0,
		-1.490885580693548,
		0.0,
		35.0,
		0.44827747165581944,
		0.0,
		0.884011742146323,
		1.0,
		1.0,
		2.0,
		29.0,
		1.1073049699235469,
		1.0,
		1.0,
		29.0,
		11.0,
		-0.19605635751207484,
		1.0,
		1.0,
		1.0,
		33.0,
		-1.2965578561236637,
		1.0,
		1.0,
		33.0,
		11.0,
		-0.5294668215217829,
		0.0,
		56.0,
		1.480250884544139,
		0.0,
		0.1680609767381896,
		1.0,
		1.0,
		23.0,
		11.0,
		-0.4583283406191708,
		1.0,
		1.0,
		15.0,
		39.0,
		2.735748665841233,
		1.0,
		1.0,
		39.0,
		11.0,
		-1.2695954597294778,
		1.0,
		1.0,
		9.0,
		20.0,
		2.171878120126698,
		0.0,
		50.0,
		-0.13114752955182285,
		0.0,
		-0.33743843868863743,
		1.0,
		1.0,
		33.0,
		12.0,
		0.20353595354123222,
		0.0,
		68.0,
		0.5235096881154638,
		0.0,
		-0.08381191530736931,
		1.0,
		1.0,
		3.0,
		17.0,
		1.758262044553667,
		1.0,
		1.0,
		17.0,
		10.0,
		1.3738863264169399,
		1.0,
		1.0,
		7.0,
		25.0,
		1.103688633210691,
		1.0,
		1.0,
		25.0,
		11.0,
		-0.37148087451812306,
		1.0,
		1.0,
		12.0,
		35.0,
		0.8859588907829825,
		1.0,
		1.0,
		35.0,
		10.0,
		-0.4898702580654819,
		0.0,
		63.0,
		1.5243229863775793,
		0.0,
		0.7745750774658554,
		1.0,
		1.0,
		56.0,
		23.0,
		2.2388924439761135,
		1.0,
		1.0,
		1.0,
		32.0,
		2.044523975934075,
		1.0,
		1.0,
		32.0,
		10.0,
		0.13141479962770808,
		1.0,
		1.0,
		20.0,
		50.0,
		2.01998396507679,
		1.0,
		1.0,
		50.0,
		11.0,
		0.44356386827029015,
		0.0,
		73.0,
		0.7406417027269366,
		0.0,
		1.0061986136162273,
		1.0,
		1.0,
		6.0,
		63.0,
		0.33151116091204536,
		1.0,
		1.0,
		63.0,
		56.0,
		1.002500787167219,
		1.0,
		1.0,
		7.0,
		73.0,
		1.0102646401559934,
		1.0,
		1.0,
		73.0,
		56.0,
		1.087310823413118,
		1.0,
		1.0,
		10.0,
		12.0,
		2.125324495392169,
		1.0,
		1.0,
		29.0,
		68.0,
		0.8268292213000857,
		1.0,
		1.0,
		68.0,
		15.0,
		-9.448678749848877
	)
}
