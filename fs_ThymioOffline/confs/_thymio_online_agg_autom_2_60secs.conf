%runs:30
%maxevolutions:4

--controllers classname=controllers.SimulatedThymioOnlineEvoController,
network=(
		classname=commoninterface.evolution.MacroNetwork,
		inputs=(
			IR=(
				classname=commoninterface.evolution.RealThymioNormalizedCIIRNNInputs,
				id=1
			),
			INNESTA=(
				classname=commoninterface.evolution.RealThymioGeneralOneNNInputs,
				id=2
			),
			INNESTB=(
				classname=commoninterface.evolution.RealThymioGeneralOneNNInputs,
				id=3
			),
			GROUPINNESTA=(
				classname=commoninterface.evolution.RealThymioGeneralOneNNInputs,
				id=4
			),
			GROUPINNESTB=(
				classname=commoninterface.evolution.RealThymioGeneralOneNNInputs,
				id=5
			)
		),
		outputs=(
			TwoWheel=(
				classname=commoninterface.evolution.ThymioTwoWheelCINNOutput,
				id=1
			)
		)
),
task=(taskname=aggregation,maxenergy=1000.0,defaultfactor=0.00001,minenergy=0.00001),
evaluation=(policy=fixed,evalsteps=550,noevalperiod=50)

--environment classname=environment.MultiPartEnvironment,
	width=1,
	height=1,
	steps=36000
	
--simulator network=(
		classname=network.SimulationNetwork
	)
--robots classname=robot.Thymio,out=X,
	distancewheels=0.2,
	numberofrobots=3,
	radius=0.08,
	maxspeed=0.20,
	irsenserobot=1,
    camerasensor=0,
    naivesensor=0,
    noiseenabled=0,
    camerasensor=0,
    multinestsensor=1,
    stopactuator=0,
    sensors=(
		Sensor1=(
			classname=sensors.CISensorWrapper,
				ci=(
				classname=commoninterface.sensors.ThymioIRCISensor,
				id=1
				)
		),
		Sensor2=(
			classname=sensors.CISensorWrapper,
				ci=(
				classname=commoninterface.sensors.ThymioCIInAreaASensor,
				id=2
				)
		),
		Sensor3=(
			classname=sensors.CISensorWrapper,
				ci=(
				classname=commoninterface.sensors.ThymioCIInAreaBSensor,
				id=3,
				)
		),
		Sensor4=(
			classname=sensors.CISensorWrapper,
				ci=(
				classname=commoninterface.sensors.ThymioCIGroupAreaASensor,
				id=4,robots=3
				)
		),
		Sensor5=(
			classname=sensors.CISensorWrapper,
				ci=(
				classname=commoninterface.sensors.ThymioCIGroupAreaBSensor,
				id=5,robots=3
				)
		)
     )

--executor classname=ParallelTaskExecutor

--evolution classname=evolutionaryrobotics.evolution.NEATEvolution

--random-seed 1

%pop {
	--population classname=evolutionaryrobotics.populations.NEATPopulation,samples=1,generations=1,size=1
}

#evo_alone{
	%pop
	--evaluation classname=evaluationfunctions.ThymioAggregation
}

#simple_macro_std{
	%pop
	--evaluation classname=evaluationfunctions.ThymioAggregation
	--controllers +macroneurons=(encoding=macrogenome,macros=0,macrospecialisation=0,evolvedmacros=3,evolved_macro1=move_forward,evsensors1=0-1-2-3-4-5-6,evactuators1=11-12,evolved_macro2=turn_left,evsensors2=0-1-2-3-4-5-6,evactuators2=11-12,evolved_macro3=turn_right,evsensors3=0-1-2-3-4-5-6,evactuators3=11-12)
}

#simple_macro_coevolve{
	%pop
	--evaluation classname=evaluationfunctions.ThymioAggregation
	--controllers +macroneurons=(encoding=macrogenome,macrospecialisation=1,macros=0,evolvedmacros=3,evolved_macro1=move_forward,evsensors1=0-1-2-3-4-5-6,evactuators1=11-12,evolved_macro2=turn_left,evsensors2=0-1-2-3-4-5-6,evactuators2=11-12,evolved_macro3=turn_right,evsensors3=0-1-2-3-4-5-6,evactuators3=11-12)
}

#behaviour_seed_macro_std{
	%pop
	--evaluation classname=evaluationfunctions.ThymioAggregation
	--controllers +macroneurons=(encoding=macrogenome,macrospecialisation=0,macros=0,evolvedmacros=1,macroreuse=0.0,evolved_macro1=aggregation_real_samples,evsensors1=0-1-2-3-4-5-6-7-8-9-10,evactuators1=11-12)
}

#behaviour_seed_macro_coevolve{
	%pop
	--evaluation classname=evaluationfunctions.ThymioAggregation
	--controllers +macroneurons=(encoding=macrogenome,macrospecialisation=1,macros=0,evolvedmacros=1,macroreuse=0.0,evolved_macro1=aggregation_real_samples,evsensors1=0-1-2-3-4-5-6-7-8-9-10,evactuators1=11-12)
}

#behaviour_seed_only{
	%pop
	--evaluation classname=evaluationfunctions.ThymioAggregation
	--controllers +weights=(
		0.0,
		1.0,
		1.9175340480967213,
		2.0,
		1.122607568607819,
		0.0,
		2.0,
		2.6730855671590446,
		2.0,
		-0.1627211811676106,
		0.0,
		3.0,
		5.637019002160404E-4,
		2.0,
		0.5569396726962957,
		0.0,
		4.0,
		-0.39000467075675194,
		2.0,
		-0.24319056374024373,
		0.0,
		5.0,
		-0.991807594600401,
		2.0,
		0.5862636544260877,
		0.0,
		6.0,
		0.49681452949616567,
		2.0,
		0.8948313096390674,
		0.0,
		7.0,
		-2.394834799689206,
		2.0,
		0.2755989740597964,
		0.0,
		8.0,
		-1.6681701125449844,
		2.0,
		0.0631630053283119,
		0.0,
		9.0,
		-1.813986868042492,
		2.0,
		-0.08823767773648064,
		0.0,
		10.0,
		1.5208990956053263,
		2.0,
		0.17562167951780794,
		0.0,
		11.0,
		-2.4722701458055614,
		2.0,
		0.7684751587892747,
		0.0,
		12.0,
		-1.2173196073892039,
		1.0,
		0.7922547287680886,
		0.0,
		13.0,
		-0.3834153666656587,
		1.0,
		0.774644519934848,
		1.0,
		1.0,
		1.0,
		12.0,
		0.15216359641956245,
		0.0,
		20.0,
		-0.39512415750638175,
		0.0,
		-0.014125659231942953,
		0.0,
		23.0,
		0.46637009968023047,
		0.0,
		0.15419343265188848,
		0.0,
		14.0,
		-1.0462563684477326,
		0.0,
		-0.7862687341118124,
		0.0,
		35.0,
		0.4057404871624045,
		0.0,
		-0.3494365981939154,
		0.0,
		16.0,
		0.7691958512102773,
		0.0,
		1.0019614061234556,
		1.0,
		1.0,
		7.0,
		12.0,
		3.5153456699200603,
		1.0,
		1.0,
		8.0,
		12.0,
		-3.937791888361228,
		1.0,
		1.0,
		9.0,
		12.0,
		1.0829039125984763,
		1.0,
		1.0,
		10.0,
		12.0,
		0.020723648500577507,
		1.0,
		1.0,
		11.0,
		12.0,
		0.3119539678205683,
		1.0,
		1.0,
		1.0,
		13.0,
		0.6851788148989711,
		1.0,
		1.0,
		2.0,
		13.0,
		1.2563645334197826,
		1.0,
		1.0,
		3.0,
		13.0,
		1.9092506262553217,
		1.0,
		1.0,
		4.0,
		13.0,
		1.83826117900448,
		1.0,
		1.0,
		5.0,
		13.0,
		-0.702879883077417,
		1.0,
		1.0,
		6.0,
		13.0,
		-1.0773876483176825,
		1.0,
		1.0,
		7.0,
		13.0,
		-3.041268331855612,
		1.0,
		1.0,
		8.0,
		13.0,
		0.9386478723300017,
		1.0,
		1.0,
		9.0,
		13.0,
		-1.5231628187027955,
		1.0,
		1.0,
		10.0,
		13.0,
		-2.2658462244649584,
		1.0,
		1.0,
		11.0,
		13.0,
		-1.0626689774869031,
		0.0,
		48.0,
		2.160297591604495,
		0.0,
		0.03635150944232054,
		1.0,
		1.0,
		20.0,
		12.0,
		0.45670332713078854,
		1.0,
		1.0,
		8.0,
		20.0,
		2.4691844445267686,
		1.0,
		1.0,
		2.0,
		48.0,
		-0.24662430922992762,
		1.0,
		1.0,
		48.0,
		20.0,
		-0.44837362980874185,
		1.0,
		1.0,
		4.0,
		14.0,
		1.602518356215538,
		1.0,
		1.0,
		14.0,
		12.0,
		-0.3927535025248976,
		1.0,
		1.0,
		6.0,
		16.0,
		1.8376369547062794,
		1.0,
		1.0,
		16.0,
		12.0,
		0.9908004107503474,
		1.0,
		1.0,
		3.0,
		23.0,
		1.3147080040950623,
		1.0,
		1.0,
		23.0,
		12.0,
		-0.8136014195218033,
		1.0,
		1.0,
		5.0,
		35.0,
		0.5872421426261102,
		1.0,
		1.0,
		35.0,
		12.0,
		-0.1994616103586463
	)
}
